---
title: "1.3.1 GGplot for Yuan's Project"
format: html
editor: visual
---

## Quarto

Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <https://quarto.org>.

## Running Code

## Load Data

```{r}
# An example dataset from Yuan, with structure modidied in Excel:
regpro <- read.csv("~/dbs-vs-venous-antibodies/1_data/regpro_df_reformed.csv")
colnames(regpro)<-c("order", "regpro",
                    "est_A", "est_A_se", 
                    "data" ,"n_sample")

## Add lower and higher for bar
regpro$lower = regpro$est_A - 1.96*regpro$est_A_se
regpro$higher = regpro$est_A + 1.96*regpro$est_A_se
```

## GG plot

```{r}
g02<-ggplot(regpro, aes(x = est_A, y = regpro)) + 
    geom_errorbarh(aes(xmax = higher, xmin = lower, color=data),
                       position = position_dodge(width = 1.0), # avoid overlapping
                       linewidth = .5, height = .5) +
    geom_point(size = 2, aes(colour=data),
               position = position_dodge(width = 1.0))+
    theme_bw()+
    theme(plot.background = element_blank(),
          panel.grid.major = element_blank(),
          panel.grid.minor = element_blank(),
          legend.title = element_blank(),
          axis.title.y = element_blank()
          ) +
  labs(x = "Add your X label here")

# Plot is good, but needs to add shadows for aesthetic purposes 
library(ggforestplot)
g02 + geom_stripes(odd = "#33333333", even = "#00000000")
```
